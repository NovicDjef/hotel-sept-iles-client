"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[390],{20390:(e,t,o)=>{o.d(t,{generateReceiptPDF:()=>n});let n=async e=>{let{jsPDF:t}=await Promise.all([o.e(5033),o.e(3930),o.e(6241)]).then(o.bind(o,55172)),n=new t,l=null;try{l=await new Promise((e,t)=>{let o=new Image;o.crossOrigin="anonymous",o.onload=()=>{let n=document.createElement("canvas");n.width=o.width,n.height=o.height;let l=n.getContext("2d");l?(l.drawImage(o,0,0),e(n.toDataURL("image/jpeg"))):t(Error("Failed to get canvas context"))},o.onerror=()=>t(Error("Failed to load image")),o.src="/images/hotel/logoH.jpg"})}catch(e){console.warn("Impossible de charger le logo:",e)}let i=[13,71,161],s=[218,165,32],r=[51,65,85],a=[100,116,139],c=[148,163,184],x=[241,245,249],F=n.internal.pageSize.getWidth(),h=n.internal.pageSize.getHeight(),g=20;if(l)try{n.addImage(l,"JPEG",20,g,30,22)}catch(e){console.warn("Erreur logo:",e)}n.setTextColor(...i),n.setFontSize(22),n.setFont("helvetica","bold"),n.text("H\xd4TEL SEPT-\xceLES",F/2,g+8,{align:"center"}),n.setFontSize(9),n.setFont("helvetica","normal"),n.setTextColor(...a),n.text("Sept-\xceles, Qu\xe9bec  •  (418) 962-2581",F/2,g+15,{align:"center"}),g+=35,n.setDrawColor(...s),n.setLineWidth(.5),n.line(20,g,F-20,g),g+=15,n.setTextColor(...r),n.setFontSize(16),n.setFont("helvetica","bold"),n.text("RE\xc7U DE R\xc9SERVATION",F/2,g,{align:"center"}),g+=12,n.setFillColor(...x),n.rect(20,g-3,F-40,18,"F"),n.setFontSize(9),n.setFont("helvetica","normal"),n.setTextColor(...a),n.text("N\xb0 R\xe9servation",25,g+3),n.text("ID Client",25,g+10),n.setFont("helvetica","bold"),n.setTextColor(...i),n.setFontSize(10),n.text(e.reservationNumber,65,g+3),n.text(e.guestId,65,g+10),n.setFont("helvetica","normal"),n.setFontSize(9),n.setTextColor(...a),n.text("Date d'\xe9mission",F-25,g+3,{align:"right"}),n.setFont("helvetica","bold"),n.setTextColor(...r),n.text(e.date,F-25,g+10,{align:"right"}),g+=25,n.setFontSize(11),n.setFont("helvetica","bold"),n.setTextColor(...i),n.text("CLIENT",20,g),g+=8,n.setFontSize(10),n.setFont("helvetica","bold"),n.setTextColor(...r),n.text("".concat(e.client.prenom," ").concat(e.client.nom),20,g),g+=6,n.setFont("helvetica","normal"),n.setFontSize(9),n.setTextColor(...a),n.text(e.client.email,20,g),g+=5,n.text(e.client.telephone,20,g),g+=15,n.setFontSize(11),n.setFont("helvetica","bold"),n.setTextColor(...i),n.text("D\xc9TAILS DE LA R\xc9SERVATION",20,g),g+=8,n.setFillColor(...x),n.rect(20,g-3,F-40,30,"F"),n.setFontSize(9),n.setFont("helvetica","normal"),n.setTextColor(...a),n.text("Chambre",25,g+3),n.setFont("helvetica","bold"),n.setTextColor(...r),n.setFontSize(10),n.text("".concat(e.chambre.nom),25,g+9),n.setFont("helvetica","normal"),n.setFontSize(8),n.setTextColor(...c),n.text("(".concat(e.chambre.categorie,")"),25,g+14);let d=F/2+10;n.setFontSize(9),n.setFont("helvetica","normal"),n.setTextColor(...a),n.text("Arriv\xe9e",d,g+3),n.text("D\xe9part",d+40,g+3),n.setFont("helvetica","bold"),n.setTextColor(...r),n.setFontSize(9),n.text(new Date(e.dateDebut).toLocaleDateString("fr-CA"),d,g+9),n.text(new Date(e.dateFin).toLocaleDateString("fr-CA"),d+40,g+9),n.setFont("helvetica","normal"),n.setFontSize(9),n.setTextColor(...a),n.text("Nuits",d,g+16),n.text("Personnes",d+40,g+16),n.setFont("helvetica","bold"),n.setTextColor(...r),n.text(String(e.nombreNuits),d,g+22),n.text(String(e.nombrePersonnes),d+40,g+22),g+=38,e.services&&e.services.length>0&&(n.setFontSize(11),n.setFont("helvetica","bold"),n.setTextColor(...i),n.text("SERVICES SPA",20,g),g+=8,e.services.forEach(e=>{n.setFontSize(9),n.setFont("helvetica","normal"),n.setTextColor(...r);let t=e.nom;e.duree&&(t+=" (".concat(e.duree,"min)")),e.nombrePersonnes&&e.nombrePersonnes>1&&(t+=" - ".concat(e.nombrePersonnes," pers.")),n.text(t,20,g),n.setFont("helvetica","bold"),n.setTextColor(...s),n.text("".concat(e.prix.toFixed(2)," $"),F-20,g,{align:"right"}),g+=6}),g+=10),g+=5,n.setDrawColor(...c),n.setLineWidth(.3),n.line(20,g,F-20,g),g+=10,n.setFontSize(10),n.setFont("helvetica","normal"),n.setTextColor(...r),n.text("Sous-total",20,g),n.setFont("helvetica","bold"),n.text("".concat(e.subtotal.toFixed(2)," $"),F-20,g,{align:"right"}),g+=7,n.setFont("helvetica","normal"),n.setTextColor(...a),n.setFontSize(9),n.text("TPS (5%)",20,g),n.setFont("helvetica","normal"),n.text("".concat(e.tps.toFixed(2)," $"),F-20,g,{align:"right"}),g+=6,n.text("TVQ (9,975%)",20,g),n.text("".concat(e.tvq.toFixed(2)," $"),F-20,g,{align:"right"}),g+=10,n.setDrawColor(...s),n.setLineWidth(1),n.line(20,g,F-20,g),g+=10,n.setFontSize(14),n.setFont("helvetica","bold"),n.setTextColor(...i),n.text("TOTAL",20,g),n.setFontSize(16),n.setTextColor(...s),n.text("".concat(e.total.toFixed(2)," $ CAD"),F-20,g,{align:"right"});let C=h-30;n.setDrawColor(...c),n.setLineWidth(.3),n.line(20,C,F-20,C),n.setFontSize(10),n.setFont("helvetica","bold"),n.setTextColor(...i),n.text("Merci de votre confiance !",F/2,C+8,{align:"center"}),n.setFontSize(8),n.setFont("helvetica","normal"),n.setTextColor(...a),n.text("Pour toute question : info@hotel-sept-iles.ca  •  (418) 962-2581",F/2,C+14,{align:"center"});let m="Recu_".concat(e.guestId,"_").concat(e.reservationNumber,".pdf");n.save(m)}}}]);