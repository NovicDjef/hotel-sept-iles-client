(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{12566:(e,t,s)=>{"use strict";s.d(t,{ChatMessage:()=>i});var a=s(95155),r=s(12115),l=s(85218),n=s(87915);let i=r.memo(e=>{let{message:t}=e,s="GUEST"===t.senderType;return(0,a.jsx)("div",{className:"flex ".concat(s?"justify-end":"justify-start"," mb-4"),children:(0,a.jsx)("div",{className:"max-w-[75%] rounded-lg px-4 py-2 transition-all ".concat(s?"bg-blue-600 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"),children:(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-1",children:t.senderName}),(0,a.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap break-words",children:t.message}),(0,a.jsx)("span",{className:"text-xs mt-1 ".concat(s?"text-blue-100":"text-gray-500"),children:(0,l.GP)(new Date(t.createdAt),"HH:mm",{locale:n.fr})})]})})})},(e,t)=>e.message.id===t.message.id)},33370:(e,t,s)=>{"use strict";s.d(t,{Footer:()=>f});var a=s(95155),r=s(52619),l=s.n(r),n=s(15239),i=s(34486),o=s(52472),c=s(95740),d=s(73155),m=s(67161),u=s(21873),h=s(69141),x=s(23664),p=s(26983);let g={hotel:[{label:"Chambres",href:"/chambres"},{label:"Services Spa",href:"/services"},{label:"\xc0 propos",href:"/a-propos"},{label:"Carri\xe8res",href:"/carrieres"}],services:[{label:"Massage",href:"/services#massage"},{label:"Hammam",href:"/services#hammam"},{label:"P\xe9dicure",href:"/services#pedicure"},{label:"Manucure",href:"/services#manucure"}],support:[{label:"Contact",href:"/contact"},{label:"FAQ",href:"/faq"},{label:"Avis clients",href:"/avis"},{label:"Mon compte",href:"/mon-compte"}],legal:[{label:"Conditions g\xe9n\xe9rales",href:"/conditions"},{label:"Politique de confidentialit\xe9",href:"/confidentialite"},{label:"Politique d'annulation",href:"/annulation"},{label:"Mentions l\xe9gales",href:"/mentions-legales"}]};function f(){let e=new Date().getFullYear();return(0,a.jsxs)("footer",{className:"bg-gradient-luxury text-white",children:[(0,a.jsx)("div",{className:"container-custom py-12 lg:py-16",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-12 gap-8 lg:gap-12",children:[(0,a.jsxs)("div",{className:"lg:col-span-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)("div",{className:"relative h-12 w-12 rounded-xl overflow-hidden shadow-md",children:(0,a.jsx)(n.default,{src:"/images/hotel/logoH.jpg",alt:"Logo H\xf4tel Sept-\xceles",fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-display text-2xl font-bold",children:"Sept-\xceles"}),(0,a.jsx)("p",{className:"text-sm text-white/70",children:"H\xf4tel Premium"})]})]}),(0,a.jsx)("p",{className:"text-white/80 mb-6 leading-relaxed",children:"D\xe9couvrez l'excellence de l'hospitalit\xe9 sur la C\xf4te-Nord. Un havre de paix alliant luxe, confort et services spa premium."}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-3 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-full px-3 py-1.5",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 text-accent-gold"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:"5 \xe9toiles"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm rounded-full px-3 py-1.5",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 text-accent-gold"}),(0,a.jsx)("span",{className:"text-xs font-medium",children:"Spa Premium"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("a",{href:"https://www.facebook.com/hotel7iles",target:"_blank",rel:"noopener noreferrer",className:"flex h-10 w-10 items-center justify-center rounded-xl bg-white/10 backdrop-blur-sm transition-all hover:bg-white/20 hover:scale-110","aria-label":"Facebook",children:(0,a.jsx)(d.A,{className:"h-5 w-5"})}),(0,a.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"flex h-10 w-10 items-center justify-center rounded-xl bg-white/10 backdrop-blur-sm transition-all hover:bg-white/20 hover:scale-110","aria-label":"Instagram",children:(0,a.jsx)(m.A,{className:"h-5 w-5"})})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"H\xf4tel"}),(0,a.jsx)("ul",{className:"space-y-3",children:g.hotel.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(l(),{href:e.href,className:"text-white/70 hover:text-white transition-colors text-sm",children:e.label})},e.href))})]}),(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Services Spa"}),(0,a.jsx)("ul",{className:"space-y-3",children:g.services.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(l(),{href:e.href,className:"text-white/70 hover:text-white transition-colors text-sm",children:e.label})},e.href))})]}),(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Support"}),(0,a.jsx)("ul",{className:"space-y-3",children:g.support.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(l(),{href:e.href,className:"text-white/70 hover:text-white transition-colors text-sm",children:e.label})},e.href))})]}),(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Contact"}),(0,a.jsxs)("ul",{className:"space-y-4",children:[(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-white/70 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("span",{className:"text-sm text-white/70",children:["451, avenue Arnaud",(0,a.jsx)("br",{}),"Sept-\xceles, Qu\xe9bec G4R 3B3"]})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(h.A,{className:"h-5 w-5 text-white/70 flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,a.jsx)("a",{href:"tel:+14189622581",className:"text-sm text-white/70 hover:text-white transition-colors",children:"418 962-2581"}),(0,a.jsx)("a",{href:"tel:+18004631753",className:"text-xs text-white/60 hover:text-white transition-colors",children:"Sans frais : 1 800 463-1753"})]})]}),(0,a.jsxs)("li",{className:"flex items-center gap-3",children:[(0,a.jsx)(x.A,{className:"h-5 w-5 text-white/70 flex-shrink-0"}),(0,a.jsx)("a",{href:"mailto:info@hotel-sept-iles.com",className:"text-sm text-white/70 hover:text-white transition-colors",children:"info@hotel-sept-iles.com"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)(p.A,{className:"h-5 w-5 text-white/70 mt-0.5 flex-shrink-0"}),(0,a.jsxs)("span",{className:"text-sm text-white/70",children:["R\xe9ception 24h/24",(0,a.jsx)("br",{}),"7 jours / 7"]})]})]})]})]})}),(0,a.jsx)("div",{className:"container-custom",children:(0,a.jsx)("div",{className:"h-px bg-white/10"})}),(0,a.jsx)("div",{className:"container-custom py-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[(0,a.jsxs)("p",{className:"text-sm text-white/60 text-center md:text-left",children:["\xa9 ",e," H\xf4tel Sept-\xceles. Tous droits r\xe9serv\xe9s."]}),(0,a.jsx)("div",{className:"flex flex-wrap justify-center gap-x-6 gap-y-2",children:g.legal.map((e,t)=>(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(l(),{href:e.href,className:"text-sm text-white/60 hover:text-white transition-colors",children:e.label}),t<g.legal.length-1&&(0,a.jsx)("span",{className:"text-white/30",children:"•"})]},e.href))})]})}),(0,a.jsx)("div",{className:"container-custom pb-6",children:(0,a.jsx)(i.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"glass rounded-2xl p-4 text-center",children:(0,a.jsx)("p",{className:"text-xs text-white/80",children:"\uD83D\uDCA1 Installez notre application pour une exp\xe9rience optimale sur mobile"})})})]})}},41290:()=>{},70903:(e,t,s)=>{"use strict";s.d(t,{Providers:()=>y});var a=s(95155),r=s(17067),l=s(99776),n=s(12115),i=s(1213),o=s(59267),c=s(18224),d=s(51581),m=s(12967);let u=(0,o.U1)({reducer:{rooms:c.Ay,auth:d.Ay,services:m.Ay},middleware:e=>e({serializableCheck:!1})});function h(e){let{children:t}=e;return(0,a.jsx)(i.Kq,{store:u,children:t})}var x=s(49103);class p{async getSettings(){try{return(await x.Ay.get(this.baseUrl)).data}catch(e){throw console.error("Erreur lors de la r\xe9cup\xe9ration des param\xe8tres:",e),e}}async updateSettings(e){try{return(await x.Ay.put(this.baseUrl,e)).data}catch(e){throw console.error("Erreur lors de la mise \xe0 jour des param\xe8tres:",e),e}}async resetSettings(){try{return(await x.Ay.post("".concat(this.baseUrl,"/reset"))).data}catch(e){throw console.error("Erreur lors de la r\xe9initialisation des param\xe8tres:",e),e}}async updateReservationPolicy(e){try{return(await x.Ay.put("".concat(this.baseUrl,"/reservation-policy"),e)).data}catch(e){throw console.error("Erreur lors de la mise \xe0 jour des politiques de r\xe9servation:",e),e}}async getPaymentSettings(){try{return(await x.Ay.get("".concat(this.baseUrl,"/payment"))).data}catch(e){throw console.error("Erreur lors de la r\xe9cup\xe9ration des param\xe8tres de paiement:",e),e}}async updatePaymentSettings(e){try{return(await x.Ay.put("".concat(this.baseUrl,"/payment"),e)).data}catch(e){throw console.error("Erreur lors de la mise \xe0 jour des param\xe8tres de paiement:",e),e}}async getNotificationSettings(){try{return(await x.Ay.get("".concat(this.baseUrl,"/notifications"))).data}catch(e){throw console.error("Erreur lors de la r\xe9cup\xe9ration des param\xe8tres de notification:",e),e}}async updateNotificationSettings(e){try{return(await x.Ay.put("".concat(this.baseUrl,"/notifications"),e)).data}catch(e){throw console.error("Erreur lors de la mise \xe0 jour des param\xe8tres de notification:",e),e}}async getSecuritySettings(){try{return(await x.Ay.get("".concat(this.baseUrl,"/security"))).data}catch(e){throw console.error("Erreur lors de la r\xe9cup\xe9ration des param\xe8tres de s\xe9curit\xe9:",e),e}}async updateSecuritySettings(e){try{return(await x.Ay.put("".concat(this.baseUrl,"/security"),e)).data}catch(e){throw console.error("Erreur lors de la mise \xe0 jour des param\xe8tres de s\xe9curit\xe9:",e),e}}async updateAppearanceSettings(e){try{return(await x.Ay.put("".concat(this.baseUrl,"/appearance"),e)).data}catch(e){throw console.error("Erreur lors de la mise \xe0 jour des param\xe8tres d'apparence:",e),e}}async updateIntegrationsSettings(e){try{return(await x.Ay.put("".concat(this.baseUrl,"/integrations"),e)).data}catch(e){throw console.error("Erreur lors de la mise \xe0 jour des param\xe8tres d'int\xe9gration:",e),e}}constructor(){this.baseUrl="/api/v1/settings"}}let g=new p,f={id:"",hotelId:"",reservationPolicy:{minimumStay:1,maximumStay:30,advanceBookingDays:365,cancellationDeadlineHours:24,modificationDeadlineHours:12,checkInTime:"15:00",checkOutTime:"11:00",lateCheckOutFee:50,earlyCheckInFee:50,depositPercentage:20,allowPartialPayment:!0,refundableDeposit:!0},payment:{stripeEnabled:!0,stripePublicKey:"pk_test_51SLSZELi2PULQG33PoHpcOWCyFxg8fCH1psjJPMO9wr1IvbQwEJL9AvwuRpr49lnRWAUZmfiDuniNXvaCdpAGA8I00Cklnb2u6",acceptedCurrencies:["CAD","USD"],acceptedPaymentMethods:["card"],requireDepositForReservation:!0,depositAmount:20,depositType:"percentage",taxRate:14.975,serviceFeePercentage:0,allowCashPayment:!1,allowBankTransfer:!1},notifications:{emailEnabled:!0,smsEnabled:!1,sendBookingConfirmation:!0,sendPaymentConfirmation:!0,sendCancellationConfirmation:!0,sendReminder24h:!0,sendReminder1h:!1,sendThankYouEmail:!0,notifyAdminOnBooking:!0,notifyAdminOnCancellation:!0,notifyAdminOnPayment:!0,adminEmail:"admin@hotel-sept-iles.com",adminPhone:"",emailFromName:"H\xf4tel Sept-\xceles",emailFromAddress:"noreply@hotel-sept-iles.com",emailReplyTo:"contact@hotel-sept-iles.com"},security:{enableCaptcha:!1,captchaSiteKey:"",maxLoginAttempts:5,loginTimeoutMinutes:15,sessionTimeoutMinutes:60,requireEmailVerification:!1,requirePhoneVerification:!1,enableTwoFactorAuth:!1,passwordMinLength:8,passwordRequireUppercase:!0,passwordRequireNumbers:!0,passwordRequireSpecialChars:!1,enableRateLimiting:!0,maxRequestsPerMinute:60},appearance:{siteName:"H\xf4tel Sept-\xceles",siteDescription:"Votre oasis de luxe sur la C\xf4te-Nord",primaryColor:"#1E40AF",secondaryColor:"#0A1628",accentColor:"#d4af37",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",bannerImageUrl:"/images/banner.jpg",footerText:"\xa9 2024 H\xf4tel Sept-\xceles. Tous droits r\xe9serv\xe9s.",showSocialLinks:!0,facebookUrl:"",instagramUrl:"",twitterUrl:"",linkedinUrl:"",language:"fr",timezone:"America/Montreal",dateFormat:"DD/MM/YYYY",currencySymbol:"$",currencyPosition:"before"},integrations:{googleAnalyticsId:"",googleMapsApiKey:"",stripePublicKey:"pk_test_51SLSZELi2PULQG33PoHpcOWCyFxg8fCH1psjJPMO9wr1IvbQwEJL9AvwuRpr49lnRWAUZmfiDuniNXvaCdpAGA8I00Cklnb2u6",stripeWebhookSecret:"",mailchimpApiKey:"",mailchimpListId:"",twilioAccountSid:"",twilioAuthToken:"",twilioPhoneNumber:"",googleCalendarEnabled:!1,outlookCalendarEnabled:!1,facebookPixelId:"",hotjarId:""},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},b=(0,n.createContext)(void 0),v=e=>{let{children:t}=e,[s,r]=(0,n.useState)(f),[l,i]=(0,n.useState)(!0),[o,c]=(0,n.useState)(null),d=async()=>{try{i(!0),c(null);let e=await g.getSettings();e.success&&e.data?(r(e.data),console.log("✅ Param\xe8tres du site charg\xe9s:",e.data)):(console.warn("⚠️ R\xe9ponse API invalide, utilisation des param\xe8tres par d\xe9faut"),r(f))}catch(e){console.error("❌ Erreur lors de la r\xe9cup\xe9ration des param\xe8tres:",e),c(e.message||"Erreur de chargement des param\xe8tres"),r(f)}finally{i(!1)}},m=async()=>{await d()};return(0,n.useEffect)(()=>{d()},[]),(0,a.jsx)(b.Provider,{value:{settings:s,loading:l,error:o,refreshSettings:m},children:t})};function y(e){let{children:t}=e,[s]=(0,n.useState)(()=>new r.E({defaultOptions:{queries:{staleTime:6e4,gcTime:3e5,retry:1,refetchOnWindowFocus:!1,refetchOnMount:!1}}}));return(0,a.jsx)(h,{children:(0,a.jsx)(v,{children:(0,a.jsxs)(l.Ht,{client:s,children:[t,!1]})})})}},75261:(e,t,s)=>{"use strict";s.d(t,{Navigation:()=>f});var a=s(95155),r=s(12115),l=s(52619),n=s.n(l),i=s(15239),o=s(20063),c=s(34486),d=s(71408),m=s(16485),u=s(65229),h=s(9540),x=s(69141),p=s(20508);let g=[{href:"/",label:"Accueil"},{href:"/chambres",label:"Chambres"},{href:"/services",label:"Services Spa"},{href:"/avis",label:"Avis"},{href:"/contact",label:"Contact"}];function f(){let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1),f=(0,o.usePathname)();return(0,r.useEffect)(()=>{let e=()=>{l(window.scrollY>20)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),(0,r.useEffect)(()=>(e?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[e]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.P.header,{initial:{y:-100},animate:{y:0},className:"fixed top-0 left-0 right-0 z-50 bg-gradient-luxury shadow-md",children:(0,a.jsx)("nav",{className:"container-custom",children:(0,a.jsxs)("div",{className:"flex h-16 lg:h-20 items-center justify-between",children:[(0,a.jsxs)(n(),{href:"/",prefetch:!0,className:"flex items-center gap-3 group",children:[(0,a.jsx)(c.P.div,{whileHover:{scale:1.05},transition:{duration:.3},className:"relative h-12 w-12 lg:h-14 lg:w-14 rounded-xl overflow-hidden shadow-md",children:(0,a.jsx)(i.default,{src:"/images/hotel/logoH.jpg",alt:"Logo H\xf4tel Sept-\xceles",fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"hidden sm:block",children:[(0,a.jsx)("h1",{className:"font-display text-xl lg:text-2xl font-bold text-white",children:"Sept-\xceles"}),(0,a.jsx)("p",{className:"text-xs text-white/70",children:"H\xf4tel Premium"})]})]}),(0,a.jsx)("div",{className:"hidden lg:flex items-center gap-1",children:g.map(e=>(0,a.jsxs)(n(),{href:e.href,prefetch:!0,className:"relative px-4 py-2 text-sm font-medium transition-colors ".concat(f===e.href?"text-white":"text-white/70 hover:text-white"),children:[e.label,f===e.href&&(0,a.jsx)(c.P.div,{layoutId:"navbar-indicator",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-white",transition:{type:"spring",stiffness:380,damping:30}})]},e.href))}),(0,a.jsx)("div",{className:"hidden lg:flex items-center gap-3",children:(0,a.jsxs)(n(),{href:"/chambres",prefetch:!0,className:"btn-gold",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),"R\xe9server"]})}),(0,a.jsx)("button",{onClick:()=>t(!e),className:"lg:hidden p-2 rounded-xl text-white hover:bg-white/10 transition-colors","aria-label":"Menu",children:e?(0,a.jsx)(u.A,{className:"h-6 w-6"}):(0,a.jsx)(h.A,{className:"h-6 w-6"})})]})})}),(0,a.jsx)(d.N,{children:e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(c.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1),className:"fixed inset-0 z-40 bg-black/50 backdrop-blur-sm lg:hidden"}),(0,a.jsx)(c.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25},className:"fixed right-0 top-0 bottom-0 z-50 w-full max-w-sm bg-white shadow-2xl lg:hidden safe-top safe-bottom",children:(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-neutral-200 px-6 py-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"relative h-10 w-10 rounded-xl overflow-hidden shadow-md",children:(0,a.jsx)(i.default,{src:"/images/hotel/logoH.jpg",alt:"Logo H\xf4tel Sept-\xceles",fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"font-display text-lg font-bold text-primary-900",children:"Sept-\xceles"}),(0,a.jsx)("p",{className:"text-xs text-neutral-600",children:"Menu"})]})]}),(0,a.jsx)("button",{onClick:()=>t(!1),className:"p-2 rounded-xl text-neutral-600 hover:bg-neutral-100",children:(0,a.jsx)(u.A,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:[(0,a.jsx)("nav",{className:"space-y-2",children:g.map((e,s)=>(0,a.jsx)(c.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.05*s},children:(0,a.jsx)(n(),{href:e.href,prefetch:!0,onClick:()=>t(!1),className:"flex items-center gap-3 rounded-xl px-4 py-3 text-base font-medium transition-colors ".concat(f===e.href?"bg-primary-50 text-primary-600":"text-neutral-700 hover:bg-neutral-50"),children:e.label})},e.href))}),(0,a.jsxs)("div",{className:"mt-8 rounded-2xl bg-gradient-ocean p-6 text-white",children:[(0,a.jsx)("h3",{className:"font-display text-lg font-bold mb-2",children:"Besoin d'aide ?"}),(0,a.jsx)("p",{className:"text-sm text-white/80 mb-4",children:"Notre \xe9quipe est l\xe0 pour vous"}),(0,a.jsxs)("a",{href:"tel:+14185551234",className:"flex items-center gap-2 text-sm font-medium hover:underline",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),"+1 418 962-2581"]})]})]}),(0,a.jsxs)("div",{className:"border-t border-neutral-200 p-6 space-y-3",children:[(0,a.jsxs)(n(),{href:"/mon-compte",prefetch:!0,onClick:()=>t(!1),className:"btn-secondary w-full",children:[(0,a.jsx)(p.A,{className:"h-4 w-4"}),"Mon compte"]}),(0,a.jsxs)(n(),{href:"/chambres",prefetch:!0,onClick:()=>t(!1),className:"btn-primary w-full",children:[(0,a.jsx)(m.A,{className:"h-4 w-4"}),"R\xe9server maintenant"]})]})]})})]})})]})}},78092:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,41290,23)),Promise.resolve().then(s.bind(s,70903)),Promise.resolve().then(s.bind(s,82771)),Promise.resolve().then(s.bind(s,12566)),Promise.resolve().then(s.bind(s,93347)),Promise.resolve().then(s.bind(s,83637)),Promise.resolve().then(s.bind(s,33370)),Promise.resolve().then(s.bind(s,75261)),Promise.resolve().then(s.t.bind(s,20369,23)),Promise.resolve().then(s.t.bind(s,52324,23))},82771:(e,t,s)=>{"use strict";s.d(t,{ChatForm:()=>n});var a=s(95155),r=s(12115),l=s(49103);let n=e=>{let{onSubmit:t,isLoading:s}=e,[n,i]=(0,r.useState)({guestName:"",guestEmail:"",guestPhone:"",initialMessage:""}),[o,c]=(0,r.useState)(null),d=e=>{let{name:t,value:s}=e.target;i(e=>({...e,[t]:s})),c(null)},m=async e=>{if(e.preventDefault(),c(null),!n.guestName.trim())return void c("Veuillez entrer votre nom");if(!n.guestEmail.trim()&&!n.guestPhone.trim())return void c("Veuillez fournir au moins un email ou un num\xe9ro de t\xe9l\xe9phone");if(!n.initialMessage.trim())return void c("Veuillez entrer un message");if(n.guestEmail.trim()&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.guestEmail))return void c("Veuillez entrer une adresse email valide");if(n.guestPhone.trim()&&!/^[+]?[(]?[0-9]{1,4}[)]?[-\s.]?[(]?[0-9]{1,4}[)]?[-\s.]?[0-9]{1,9}$/.test(n.guestPhone.replace(/\s/g,"")))return void c("Veuillez entrer un num\xe9ro de t\xe9l\xe9phone valide");let s={hotelId:l.Yb,guestName:n.guestName.trim(),guestEmail:n.guestEmail.trim()||void 0,guestPhone:n.guestPhone.trim()||void 0,initialMessage:n.initialMessage.trim()};try{await t(s)}catch(e){console.error("Erreur lors de la soumission:",e)}};return(0,a.jsxs)("form",{onSubmit:m,className:"space-y-4 p-4",children:[(0,a.jsxs)("div",{className:"text-center mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Contactez-nous"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Nous sommes l\xe0 pour vous aider"})]}),o&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-3 py-2 rounded-lg text-sm",children:o}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"guestName",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nom complet ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",id:"guestName",name:"guestName",value:n.guestName,onChange:d,placeholder:"Votre nom",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",disabled:s})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"guestEmail",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",id:"guestEmail",name:"guestEmail",value:n.guestEmail,onChange:d,placeholder:"votre@email.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",disabled:s})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"guestPhone",className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xe9l\xe9phone"}),(0,a.jsx)("input",{type:"tel",id:"guestPhone",name:"guestPhone",value:n.guestPhone,onChange:d,placeholder:"+1 (514) 555-1234",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",disabled:s})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"initialMessage",className:"block text-sm font-medium text-gray-700 mb-1",children:["Message ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("textarea",{id:"initialMessage",name:"initialMessage",value:n.initialMessage,onChange:d,placeholder:"Comment pouvons-nous vous aider ?",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition resize-none",disabled:s})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"text-red-500",children:"*"})," Champs obligatoires. Au moins un email ou t\xe9l\xe9phone requis."]}),(0,a.jsx)("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-2.5 px-4 rounded-lg font-medium hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Envoi en cours...":"D\xe9marrer la conversation"})]})}},83637:(e,t,s)=>{"use strict";s.d(t,{ChatWindow:()=>o});var a=s(95155),r=s(12115),l=s(12566),n=s(919),i=s(18085);let o=e=>{let{messages:t=[],guestName:s,onSendMessage:o,isLoading:c,isPolling:d}=e,[m,u]=(0,r.useState)(""),h=(0,r.useRef)(null),x=(0,r.useRef)(null),p=(0,r.useRef)(t.length);(0,r.useEffect)(()=>{let e=t.length;if(e>p.current){var s;null==(s=h.current)||s.scrollIntoView({behavior:"smooth"})}p.current=e},[t.length]),(0,r.useEffect)(()=>{var e;null==(e=x.current)||e.focus()},[]);let g=async e=>{if(e.preventDefault(),!m.trim()||c)return;let t=m.trim();u("");try{await o(t)}catch(e){u(t)}};return(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"bg-blue-600 text-white px-4 py-3 rounded-t-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Chat avec l'h\xf4tel"}),(0,a.jsx)("p",{className:"text-xs text-blue-100",children:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"inline-block w-2 h-2 bg-green-400 rounded-full animate-pulse"}),"En ligne"]})})]}),(0,a.jsx)("p",{className:"text-sm text-blue-100",children:s})]})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 bg-gray-50 space-y-2",children:[t&&0!==t.length?t.map(e=>(0,a.jsx)(l.ChatMessage,{message:e},e.id)):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500 text-sm",children:"Aucun message pour le moment"}),(0,a.jsx)("div",{ref:h})]}),(0,a.jsx)("div",{className:"border-t bg-white p-4",children:(0,a.jsxs)("form",{onSubmit:g,className:"flex gap-2",children:[(0,a.jsx)("input",{ref:x,type:"text",value:m,onChange:e=>u(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),g(e))},placeholder:"Tapez votre message...",disabled:c,className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition disabled:opacity-50"}),(0,a.jsx)("button",{type:"submit",disabled:!m.trim()||c,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:c?(0,a.jsx)(n.A,{className:"w-5 h-5 animate-spin"}):(0,a.jsx)(i.A,{className:"w-5 h-5"})})]})})]})}},93347:(e,t,s)=>{"use strict";s.d(t,{ChatWidget:()=>h});var a=s(95155),r=s(12115),l=s(49103);class n{async startConversation(e){try{return(await l.Ay.post("".concat(this.baseUrl,"/start"),e)).data}catch(e){throw console.error("Erreur lors du d\xe9marrage de la conversation:",e),e}}async sendMessage(e,t){try{console.log("\uD83D\uDCE4 Envoi message au backend:"),console.log("  - ConversationId:",e),console.log("  - Data:",t),console.log("  - URL:","".concat(this.baseUrl,"/").concat(e,"/messages"));let s=await l.Ay.post("".concat(this.baseUrl,"/").concat(e,"/messages"),t);return console.log("✅ R\xe9ponse du backend:",s.data),s.data}catch(e){var s,a,r,n;throw console.error("❌ Erreur lors de l'envoi du message:"),console.error("  - Status:",null==(s=e.response)?void 0:s.status),console.error("  - Message:",null==(r=e.response)||null==(a=r.data)?void 0:a.message),console.error("  - Data:",null==(n=e.response)?void 0:n.data),console.error("  - Full error:",e),e}}async getMessages(e){try{return(await l.Ay.get("".concat(this.baseUrl,"/").concat(e,"/messages"))).data}catch(e){throw console.error("Erreur lors de la r\xe9cup\xe9ration des messages:",e),e}}async getConversation(e){try{return(await l.Ay.get("".concat(this.baseUrl,"/conversations/").concat(e))).data}catch(e){throw console.error("Erreur lors de la r\xe9cup\xe9ration de la conversation:",e),e}}constructor(){this.baseUrl="/api/v1/chat"}}let i=new n;var o=s(82771),c=s(83637),d=s(5937),m=s(97624),u=s(65229);let h=()=>{let[e,t]=(0,r.useState)(!1),[s,l]=(0,r.useState)(!1),[n,h]=(0,r.useState)(""),{conversationId:x,messages:p,isLoading:g,error:f,isPolling:b,startConversation:v,sendMessage:y,startPolling:w,stopPolling:j,restoreConversation:N,closeConversation:S}=(()=>{let[e,t]=(0,r.useState)(null),[s,a]=(0,r.useState)(null),[l,n]=(0,r.useState)([]),[o,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)(null),[u,h]=(0,r.useState)(!1),x=(0,r.useRef)(null),p=(0,r.useCallback)(async e=>{c(!0),m(null);try{let s=await i.startConversation(e);if(s.success)return t(s.data.conversation.id),a(s.data.conversation),n(s.data.messages),localStorage.setItem("chatConversationId",s.data.conversation.id),localStorage.setItem("chatGuestName",e.guestName),s.data.conversation;throw Error(s.message||"Erreur lors du d\xe9marrage de la conversation")}catch(e){var s,r;throw m((null==e||null==(r=e.response)||null==(s=r.data)?void 0:s.message)||e.message||"Erreur de connexion"),e}finally{c(!1)}},[]),g=(0,r.useCallback)(async(t,s)=>{if(!e)return void m("Aucune conversation active");c(!0),m(null);let a={id:"temp-".concat(Date.now()),conversationId:e,message:t,senderType:"GUEST",senderName:s,isRead:!1,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};n(e=>[...e||[],a]),console.log("✅ Message optimiste ajout\xe9:",a);try{let a={message:t,senderType:"GUEST",senderName:s};console.log("\uD83D\uDCE4 Envoi du message avec les donn\xe9es:",a),console.log("\uD83D\uDCE4 ConversationId:",e);let r=await i.sendMessage(e,a);if(console.log("\uD83D\uDCE5 R\xe9ponse re\xe7ue du serveur:",r),r.success)return console.log("✅ Mise \xe0 jour avec les messages du serveur:",r.data.messages),n(r.data.messages),r.data.messages;throw Error(r.message||"Erreur lors de l'envoi du message")}catch(e){var r,l,o;throw console.error("❌ Erreur compl\xe8te:",e),console.error("❌ Erreur response:",null==e?void 0:e.response),console.error("❌ Erreur data:",null==e||null==(r=e.response)?void 0:r.data),n(e=>(e||[]).filter(e=>e.id!==a.id)),m((null==e||null==(o=e.response)||null==(l=o.data)?void 0:l.message)||e.message||"Erreur de connexion"),e}finally{c(!1),console.log("\uD83C\uDFC1 Envoi termin\xe9")}},[e]),f=(0,r.useCallback)(async()=>{if(e)try{let t=await i.getMessages(e);t.success&&(n(e=>{let s=e||[],a=t.data.messages||[];if(s.length!==a.length)return a;if(a.length>0&&s.length>0){var r,l;let e=null==(r=s[s.length-1])?void 0:r.id,t=null==(l=a[a.length-1])?void 0:l.id;if(e!==t)return a}return s}),a(e=>e&&e.id===t.data.conversation.id?e:t.data.conversation))}catch(e){}},[e]),b=(0,r.useCallback)(()=>{!x.current&&e&&(h(!0),f(),x.current=setInterval(()=>{f()},1e4))},[e,f]),v=(0,r.useCallback)(()=>{x.current&&(clearInterval(x.current),x.current=null),h(!1)},[]),y=(0,r.useCallback)(async()=>{let e=localStorage.getItem("chatConversationId");if(e){t(e),c(!0);try{let t=await i.getMessages(e);t.success&&(a(t.data.conversation),n(t.data.messages))}catch(e){var s;console.error("Erreur lors de la restauration de la conversation:",e),(null==e||null==(s=e.response)?void 0:s.status)===404&&(localStorage.removeItem("chatConversationId"),localStorage.removeItem("chatGuestName"))}finally{c(!1)}}},[]),w=(0,r.useCallback)(()=>{v(),t(null),a(null),n([]),localStorage.removeItem("chatConversationId"),localStorage.removeItem("chatGuestName")},[v]);return(0,r.useEffect)(()=>()=>{x.current&&(clearInterval(x.current),x.current=null)},[]),{conversationId:e,conversation:s,messages:l,isLoading:o,error:d,isPolling:u,startConversation:p,sendMessage:g,fetchMessages:f,startPolling:b,stopPolling:v,restoreConversation:y,closeConversation:w}})();(0,r.useEffect)(()=>{{let e=localStorage.getItem("chatGuestName");e&&h(e),N()}},[N]),(0,r.useEffect)(()=>{let e=()=>{t(!0)};return window.addEventListener("openChat",e),()=>{window.removeEventListener("openChat",e)}},[]),(0,r.useEffect)(()=>{x&&e&&!b?w():!e&&b&&j()},[x,e]),(0,r.useEffect)(()=>()=>{b&&j()},[]);let C=async e=>{try{await v(e),h(e.guestName)}catch(e){console.error("Erreur lors du d\xe9marrage du chat:",e)}},E=async e=>{try{await y(e,n)}catch(e){console.error("Erreur lors de l'envoi du message:",e)}},A=()=>{t(!1)};return(0,a.jsxs)(a.Fragment,{children:[!e&&(0,a.jsxs)("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg hover:bg-blue-700 transition-all hover:scale-110 z-50 flex items-center gap-2","aria-label":"Ouvrir le chat",children:[(0,a.jsx)(d.A,{className:"w-6 h-6"}),x&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center animate-pulse",children:"!"})]}),e&&(0,a.jsxs)("div",{className:"fixed bottom-6 right-6 w-96 h-[600px] bg-white rounded-lg shadow-2xl z-50 flex flex-col overflow-hidden transition-all duration-300 ".concat(s?"scale-95 opacity-0":"scale-100 opacity-100"),children:[x&&(0,a.jsxs)("div",{className:"absolute top-3 right-3 flex gap-2 z-10",children:[(0,a.jsx)("button",{onClick:()=>{l(!0),setTimeout(()=>{t(!1),l(!1)},300)},className:"bg-white/20 hover:bg-white/30 text-white p-1.5 rounded-full transition","aria-label":"Minimiser",children:(0,a.jsx)(m.A,{className:"w-4 h-4"})}),(0,a.jsx)("button",{onClick:A,className:"bg-white/20 hover:bg-white/30 text-white p-1.5 rounded-full transition","aria-label":"Fermer",children:(0,a.jsx)(u.A,{className:"w-4 h-4"})})]}),(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:x?(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsx)(c.ChatWindow,{messages:p||[],guestName:n,onSendMessage:E,isLoading:g,isPolling:b}),(0,a.jsxs)("div",{className:"border-t bg-gray-50 px-4 py-2 flex justify-between items-center text-xs",children:[(0,a.jsx)("button",{onClick:()=>{S(),h("")},className:"text-blue-600 hover:text-blue-800 transition",children:"Nouvelle conversation"}),(0,a.jsx)("button",{onClick:A,className:"text-gray-600 hover:text-gray-800 transition",children:"Fermer"})]})]}):(0,a.jsxs)("div",{className:"h-full overflow-y-auto",children:[(0,a.jsx)(o.ChatForm,{onSubmit:C,isLoading:g}),!x&&(0,a.jsx)("div",{className:"px-4 pb-4",children:(0,a.jsx)("button",{onClick:A,className:"w-full text-gray-600 text-sm hover:text-gray-800 transition",children:"Fermer"})})]})}),f&&(0,a.jsx)("div",{className:"absolute bottom-20 left-4 right-4 bg-red-500 text-white px-3 py-2 rounded-lg text-sm shadow-lg",children:f})]})]})}}},e=>{e.O(0,[9221,706,4486,887,5125,2619,3400,427,7540,8441,1255,7358],()=>e(e.s=78092)),_N_E=e.O()}]);