"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1274,8893],{1274:(e,r,t)=>{t.d(r,{Ap:()=>p,UG:()=>d,Xe:()=>u,bx:()=>h,checkChambreAvailability:()=>i,getAllForfaits:()=>A,getAllRoomTypes:()=>a,getAllServices:()=>g,getCertificatsAmounts:()=>y,getCurrentUser:()=>b,getSpaCategories:()=>m,k2:()=>c,lz:()=>n,rE:()=>v,registerGuest:()=>k,wN:()=>l});var s=t(49103);let o="cmiajn0ck0000r37cliherz4z",a=e=>{let r=e||o;return s.Ay.get("/api/v1/room-types/hotels/".concat(r))},i=e=>s.Ay.post("/chambres/availability",e),c=e=>{let r={hotelId:e.hotelId||o,checkInDate:e.checkInDate,checkOutDate:e.checkOutDate};return s.Ay.get("/api/v1/reservations/availability",{params:r})},l=e=>{let r={...e,hotelId:e.hotelId||o};return s.Ay.post("/api/v1/reservations/calculate",r)},n=e=>{let r={...e,hotelId:e.hotelId||o};return s.Ay.post("/api/v1/reservations/guest",r)},u=(e,r)=>s.Ay.post("/api/v1/reservations/".concat(e,"/confirm-payment"),r),p=e=>s.Ay.get("/api/v1/reviews/hotel/".concat(e)),v=e=>s.Ay.get("/api/v1/reviews/hotel/".concat(e,"/stats")),h=e=>s.Ay.post("/api/v1/reviews",e),d=e=>s.Ay.post("/api/v1/reviews/".concat(e,"/helpful")),g=()=>s.Ay.get("/api/v1/spa/services?hotelId=".concat(o)),A=()=>s.Ay.get("/api/v1/spa/forfaits?hotelId=".concat(o)),y=()=>s.Ay.get("/api/v1/spa/certificats/amounts?hotelId=".concat(o)),m=()=>s.Ay.get("/api/v1/reservations/spa-categories"),k=e=>s.Ay.post("/api/v1/auth/guest/register",e),b=()=>s.Ay.get("/auth/me")},49103:(e,r,t)=>{t.d(r,{Ay:()=>l,Yb:()=>o});var s=t(95125);let o="cmiajn0ck0000r37cliherz4z",a=["/api/v1/rooms","/api/v1/room-types","/api/v1/auth/guest","/api/v1/reservations/calculate","/api/v1/reservations/availability","/api/v1/reservations/guest","/api/v1/reviews/hotel","/api/v1/chat/start","/api/v1/chat/"],i=["/api/v1/spa/services","/api/v1/spa/forfaits","/api/v1/spa/certificats","/api/v1/spa/statistics","/api/v1/reservations/spa-categories"],c=s.A.create({baseURL:"https://apihotel.novic.dev",timeout:15e3,headers:{"Content-Type":"application/json"},responseType:"json",withCredentials:!1});c.interceptors.request.use(async e=>{let r=(e=>!!e&&a.some(r=>e.includes(r)))(e.url),t=(e=>!!e&&i.some(r=>e.includes(r)))(e.url);if(console.log("\uD83D\uDD35 API Request:",{baseURL:e.baseURL,url:e.url,fullURL:"".concat(e.baseURL).concat(e.url),isPublic:r,isSemiPublic:t,requiresAuth:!r&&!t}),r)e.withCredentials=!1,delete e.headers.Authorization;else if(t){e.withCredentials=!1;try{{let r=localStorage.getItem("userToken");r?(e.headers.Authorization="Bearer ".concat(r),console.log("\uD83D\uDD11 Token envoy\xe9 pour route semi-publique")):(console.log("⚠️ Pas de token trouv\xe9, requ\xeate sans auth"),delete e.headers.Authorization)}}catch(r){console.error("Erreur lors de la r\xe9cup\xe9ration du token:",r),delete e.headers.Authorization}}else{e.withCredentials=!1;try{{let r=localStorage.getItem("userToken");r?(e.headers.Authorization="Bearer ".concat(r),console.log("\uD83D\uDD11 Token envoy\xe9 pour route priv\xe9e:",r.substring(0,30)+"...")):console.warn("⚠️ Aucun token trouv\xe9 pour route priv\xe9e")}}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration du token:",e)}}return e},e=>Promise.reject(e)),c.interceptors.response.use(e=>e,e=>{if(e.response){let{status:r,data:t}=e.response;switch(r){case 401:localStorage.removeItem("userToken");break;case 403:console.error("Acc\xe8s interdit");break;case 404:console.error("Ressource non trouv\xe9e");break;case 500:console.error("Erreur serveur");break;default:console.error("Erreur API:",(null==t?void 0:t.message)||e.message)}}else e.request?console.error("Pas de r\xe9ponse du serveur"):console.error("Erreur de configuration:",e.message);return Promise.reject(e)});let l=c}}]);